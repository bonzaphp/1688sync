# 1688sync 开发环境配置

# 基础配置
DEBUG=true
LOG_LEVEL=DEBUG
ENVIRONMENT=development

# 数据库配置
MYSQL_ROOT_PASSWORD=dev_password_1688sync
DATABASE_URL=mysql+pymysql://root:dev_password_1688sync@mysql:3306/1688sync

# Redis配置
REDIS_URL=redis://redis:6379/0

# API服务配置
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# Celery配置
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_PREFETCH_MULTIPLIER=1

# 安全配置
SECRET_KEY=dev-secret-key-change-in-production-1688sync
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 文件存储配置
DATA_DIR=./data
IMAGE_DIR=./data/images
LOG_FILE=logs/1688sync.log
STORAGE_PATH=./images
MAX_FILE_SIZE=10485760
CDN_ENABLED=false

# 队列配置
CELERY_DEFAULT_QUEUE=default
CELERY_QUEUES=default,crawler,image_processing,data_sync,batch_processing
CELERY_ROUTES_ENABLED=true

# 检查点配置
CHECKPOINT_DIR=./checkpoints
CHECKPOINT_MAX_PER_TASK=10
CHECKPOINT_AUTO_SAVE=true

# 恢复配置
RECOVERY_MAX_RETRIES=3
RECOVERY_RETRY_DELAY=30
RECOVERY_BACKOFF_FACTOR=1.5
RECOVERY_MAX_RETRY_DELAY=300

# 并发配置
MAX_CONCURRENT_REQUESTS=50
REQUEST_TIMEOUT=30

# Scrapy配置
SCRAPY_USER_AGENT=1688sync-dev/1.0
SCRAPY_CONCURRENT_REQUESTS=8
SCRAPY_DOWNLOAD_DELAY=2.0
SCRAPY_RANDOMIZE_DOWNLOAD_DELAY=true

# 监控配置
METRICS_ENABLED=true
SENTRY_DSN=

# 数据同步配置
BATCH_SIZE=100
SYNC_INTERVAL=60
RETRY_ATTEMPTS=3
RETRY_DELAY=5

# 开发特定配置
AUTO_RELOAD=true
DEBUG_SQL=true
SHOW_SQL_QUERIES=true