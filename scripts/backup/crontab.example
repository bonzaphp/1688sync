# 1688sync 定时任务配置示例
# 使用方法: crontab crontab.example

# 环境变量设置
SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
1688SYNC_HOME=/path/to/epic-1688sync

# 每天凌晨2点完整备份
0 2 * * * cd $1688SYNC_HOME && ./scripts/backup/cron-backup.sh all

# 每6小时备份数据库
0 */6 * * * cd $1688SYNC_HOME && ./scripts/backup/cron-backup.sh database

# 每12小时备份Redis
0 */12 * * * cd $1688SYNC_HOME && ./scripts/backup/cron-backup.sh redis

# 每天凌晨3点备份应用文件
0 3 * * * cd $1688SYNC_HOME && ./scripts/backup/cron-backup.sh files

# 每周日凌晨4点备份配置文件
0 4 * * 0 cd $1688SYNC_HOME && ./scripts/backup/cron-backup.sh config

# 每天凌晨5点清理日志
0 5 * * * cd $1688SYNC_HOME && find logs/ -name "*.log" -mtime +30 -delete

# 每小时检查服务状态
0 * * * * cd $1688SYNC_HOME && ./scripts/deploy/service.sh health >> logs/health-check.log 2>&1

# 每天凌晨1点更新Docker镜像（可选）
0 1 * * * cd $1688SYNC_HOME && docker-compose pull && docker-compose up -d

# 每周一凌晨6点重启服务（可选）
0 6 * * 1 cd $1688SYNC_HOME && ./scripts/deploy/service.sh restart